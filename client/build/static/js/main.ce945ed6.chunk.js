(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},77:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(16),s=n.n(a),i=(n(50),n(51),n(24)),r=n(4),o=n(12),l=(n(52),n(6)),u=n(13),j=n.n(u),d="http://localhost:4001",b="NEW_USER",h="LOGIN_USER",O="GET_CLIENTS",f="GET_AMOUNT",p="NEW_CLIENT",m="DELETE_CLIENT",x="ADD_FIAD",g="DELETE_FIAD",v="ADD_CASH",N="ADD_SEARCH",C=n(2),y=Object(l.b)((function(e){return{userR:e.user}}),{newUser:function(e){return function(t){j.a.post(d+"/api/newUser/".concat(e)).then((function(e){return t({type:b,payload:e.data.user.email})})).catch((function(e){return console.log(e)}))}},loginUser:function(e){return function(t){j.a.get(d+"/api/getUser/".concat(e)).then((function(e){return t({type:h,payload:e.data})})).catch((function(e){return console.log(e)}))}}})((function(e){var t=e.newUser,n=(e.userR,e.loginUser),a=Object(c.useState)(""),s=Object(o.a)(a,2),i=s[0],l=s[1],u=Object(r.e)();return Object(C.jsxs)("div",{className:"content-login",children:[Object(C.jsx)("p",{children:"Ingrese el nombre de usuario"}),Object(C.jsx)("input",{name:"user",onChange:function(e){return l(e.target.value)}}),Object(C.jsx)("button",{onClick:function(){return n(e=i),localStorage.setItem("uss",e),void u.push("/te-fio/home");var e},className:"blue",children:"Ingresar"}),Object(C.jsx)("button",{onClick:function(){t(i)},className:"green",children:"Registrarse"})]})})),E=(n(77),n(42)),S=n(43),I=n(18),k=n(44),A=n(20),_=n.n(A),F=Object(l.b)((function(e){return{userR:e.user,clients:e.clients}}),{addClient:function(e,t){return function(n){j.a.put(d+"/api/".concat(e,"/newClient/").concat(t)).then((function(e){return n({type:p,payload:e.data.client})})).catch((function(e){return console.log(e)}))}},setSearch:function(e){return function(t){t({type:N,payload:e})}}})((function(e){var t=e.addClient,n=e.setSearch,a=Object(c.useState)(!1),s=Object(o.a)(a,2),i=s[0],l=s[1],u=Object(c.useState)(""),j=Object(o.a)(u,2),d=j[0],b=j[1],h=localStorage.getItem("uss"),O=Object(r.e)();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"content-nav",children:[Object(C.jsxs)("div",{className:"txt-nav",children:[Object(C.jsxs)("p",{className:"title-nav",children:["TE-FIO ",Object(C.jsx)(E.a,{})]}),Object(C.jsxs)("div",{className:"content-add-client",children:[Object(C.jsx)(S.a,{onClick:function(){return l(!0)}}),Object(C.jsx)(I.b,{className:"icn-nav",onClick:function(){return O.push("/te-fio/")}})]})]}),Object(C.jsx)("div",{className:"search-nav",children:Object(C.jsx)("form",{children:Object(C.jsxs)("div",{className:"content-search",children:[Object(C.jsx)(k.a,{className:"icon-search"}),Object(C.jsx)("input",{type:"text",name:"fiad",placeholder:"Ingrese la persona...",onChange:function(e){return n(e.target.value)}})]})})})]}),Object(C.jsx)("div",{className:"content-modal",children:Object(C.jsxs)(_.a,{isOpen:i,className:"in-modal",children:[Object(C.jsx)("h2",{children:"Agregar cliente"}),Object(C.jsx)("h4",{children:"Ingrese el nombre del nuevo cliente"}),Object(C.jsx)("input",{name:"newClient",type:"text",onChange:function(e){return b(e.target.value)}}),Object(C.jsxs)("div",{className:"content-buttons",children:[Object(C.jsx)("button",{onClick:function(){return t(h,d),l(!1),void b("")},className:"btn-modal-agg",children:"Agregar"}),Object(C.jsx)("button",{onClick:function(){return l(!1)},className:"btn-modal-close",children:"Cerrar"})]})]})})]})})),D=(n(87),n(88),n(89),n(28));var T=Object(l.b)((function(e){return{userR:e.user}}),{deleteClient:function(e,t){return function(n){j.a.delete(d+"/api/".concat(e,"/deleteClient/").concat(t)).then((function(e){return n({type:m,payload:e.data})})).catch((function(e){return console.log(e)}))}},addFiad:function(e,t,n,c){return function(a){j.a.put(d+"/api/".concat(e,"/newFiad/").concat(t,"/").concat(n,"/").concat(c)).then((function(e){return a({type:x,payload:e.data.client})})).catch((function(e){return console.log(e)}))}},deleteFiad:function(e,t,n){return function(c){j.a.delete(d+"/api/".concat(e,"/deleteFiad/").concat(t,"/").concat(n)).then((function(e){return c({type:g,payload:e.data.user})})).catch((function(e){return console.log(e)}))}},addCash:function(e,t,n){return function(c){j.a.put(d+"/api/".concat(e,"/addCash/").concat(t,"/").concat(n)).then((function(e){return c({type:v,payload:e.data.user})})).catch((function(e){return console.log(e)}))}}})((function(e){var t,n=e.client,a=e.deleteClient,s=e.addFiad,i=e.deleteFiad,r=e.addCash,l=Object(c.useState)(!1),u=Object(o.a)(l,2),j=u[0],d=u[1],b=Object(c.useState)(""),h=Object(o.a)(b,2),O=h[0],f=h[1],p=Object(c.useState)(0),m=Object(o.a)(p,2),x=m[0],g=m[1],v=Object(c.useState)(!1),N=Object(o.a)(v,2),y=N[0],E=N[1],S=localStorage.getItem("uss"),k=0;function A(e){return"recharge"===e?"green":"red"}function F(e){return!0===e?"visibilityOn":"visibilyOff"}return n.fiads.map((function(e){"fiado"===e.type?k+=e.amount:k-=e.amount,t=(t=e.date.split("T"))[0].split("-")})),Object(C.jsxs)("div",{className:"content-client",children:[Object(C.jsx)("h1",{children:n.name}),Object(C.jsxs)("h2",{className:"cash",children:["Debe $",k]}),Object(C.jsx)("h2",{className:"cash",children:"Historial de fiados"}),n.fiads.map((function(e){return Object(C.jsxs)("div",{className:"content-fiads",children:[Object(C.jsxs)("p",{id:"fiad-one",className:"fiad ".concat(A(e.type)),children:[e.name,Object(C.jsx)("br",{}),"FECHA: "+t[2]+"-"+t[1]+"-"+t[0]]}),Object(C.jsxs)("p",{className:"fiad ".concat(A(e.type)),children:["$",e.amount,Object(C.jsx)(D.a,{onClick:function(){return i(S,n.name,e._id)},className:"icn-del"})]})]})})),Object(C.jsxs)("div",{className:"content-icons",children:[Object(C.jsx)(D.a,{onClick:function(){return a(S,n.name)},className:"icn-down"}),Object(C.jsx)(I.a,{onClick:function(){return d(!0)},className:"icn-down"})]}),Object(C.jsxs)(_.a,{isOpen:j,className:"in-modal",children:[Object(C.jsx)("h2",{children:"Agregar transacci\xf3n al historial"}),Object(C.jsx)("h4",{children:"Ingrese el tipo de transaccion"}),Object(C.jsxs)("div",{className:"content-checks",children:[Object(C.jsxs)("div",{className:"content-check",children:[Object(C.jsx)("input",{type:"checkbox",onClick:function(){return E(!y)}}),Object(C.jsx)("h3",{children:"Fiado"})]}),Object(C.jsxs)("div",{className:"content-check",children:[Object(C.jsx)("input",{type:"checkbox"}),Object(C.jsx)("h3",{children:"Agrega saldo"})]})]}),Object(C.jsx)("h4",{className:"title-inp ".concat(F(y)),children:"Ingrese el motivo del fiado"}),Object(C.jsxs)("div",{className:"content-inp ".concat(F(y)),children:[Object(C.jsx)(I.c,{className:"icn-modal"}),Object(C.jsx)("input",{type:"text",onChange:function(e){return f(e.target.value)}})]}),Object(C.jsx)("h4",{children:"Ingrese el dinero"}),Object(C.jsxs)("div",{className:"content-inp",children:[Object(C.jsx)("p",{children:"$"}),Object(C.jsx)("input",{type:"text",onChange:function(e){return g(e.target.value)}})]}),Object(C.jsxs)("div",{className:"content-buttons",children:[Object(C.jsx)("button",{onClick:function(){return!0===y?function(e,t,n,c){s(e,t,n,c),g(0),f(""),d(!1),E(!1)}(S,n.name,O,x):function(e,t,n){r(e,t,n),E(!1),g(0),f(""),d(!1)}(S,n.name,x)},className:"btn-modal-agg",children:"Agregar"}),Object(C.jsx)("button",{onClick:function(){return d(!1)},className:"btn-modal-close",children:"Cerrar"})]})]})]})}));var w=Object(l.b)((function(e){return{clients:e.clients,search:e.search}}))((function(e){var t,n=e.clients,c=e.search;return console.log(n),""!==c&&(n=n.filter((function(e){return e.name.includes(c)}))),Object(C.jsx)("div",{className:"content-all-clients",children:(null===(t=n)||void 0===t?void 0:t.length)>0?n.map((function(e){return Object(C.jsx)(T,{client:e},e._id)})):Object(C.jsx)("p",{className:"msg-clients",children:"Aun no tienes clientes"})})}));var R=Object(l.b)((function(e){return{clients:e.clients,search:e.search}}),{getAllClients:function(e){return function(t){j.a.get(d+"/api/getAllClients/".concat(e)).then((function(e){return t({type:O,payload:e.data})})).catch((function(e){return console.log(e)}))}}})((function(e){var t=e.getAllClients,n=Object(r.e)(),a=localStorage.getItem("uss");return Object(c.useEffect)((function(){null===a?n.push("/te-fio/"):t(a)}),[]),Object(C.jsx)("div",{className:"content-all-home",children:Object(C.jsx)(w,{})})}));var U=Object(l.b)((function(e){return{userR:e.user}}))((function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsxs)(i.a,{children:[Object(C.jsx)(r.a,{exact:!0,path:"/te-fio/",children:Object(C.jsx)(y,{})}),Object(C.jsxs)(r.a,{path:"/te-fio/home",children:[Object(C.jsx)(F,{}),Object(C.jsx)(R,{})]})]})})})),L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))},H=n(15),G=n(45),P=n(5),$={user:null,clients:[],amount:0,search:""},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case h:return Object(P.a)(Object(P.a)({},e),{},{user:t.payload});case O:return Object(P.a)(Object(P.a)({},e),{},{clients:t.payload});case f:return Object(P.a)(Object(P.a)({},e),{},{amount:t.payload});case p:case m:case x:case g:case v:return Object(P.a)(Object(P.a)({},e),{},{clients:t.payload});case N:return Object(P.a)(Object(P.a)({},e),{},{search:t.payload});default:return e}},J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.c,M=Object(H.d)(B,J(Object(H.a)(G.a)));s.a.render(Object(C.jsx)(l.a,{store:M,children:Object(C.jsx)(U,{})}),document.getElementById("root")),L()}},[[90,1,2]]]);
//# sourceMappingURL=main.ce945ed6.chunk.js.map