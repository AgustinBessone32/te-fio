(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(12),s=n.n(a),i=(n(57),n(58),n(28)),r=n(4),o=n(14),l=(n(59),n(8)),u=n(15),j=n.n(u),d="https://te-fio.herokuapp.com",b="NEW_USER",h="LOGIN_USER",O="GET_CLIENTS",f="GET_AMOUNT",m="NEW_CLIENT",p="DELETE_CLIENT",x="ADD_FIAD",g="DELETE_FIAD",v="ADD_CASH",N="ADD_SEARCH",C=n(20),y=n(2),E=Object(l.b)((function(e){return{userR:e.user}}),{newUser:function(e){return function(t){j.a.post(d+"/api/newUser/".concat(e)).then((function(e){return t({type:b,payload:e.data.user.email})})).catch((function(e){return console.log(e)}))}},loginUser:function(e){return function(t){j.a.get(d+"/api/getUser/".concat(e)).then((function(e){return t({type:h,payload:e.data})})).catch((function(e){return console.log(e)}))}}})((function(e){var t=e.newUser,n=(e.userR,e.loginUser),a=Object(c.useState)(""),s=Object(o.a)(a,2),i=s[0],l=s[1],u=Object(r.e)(),j=Object(C.useToasts)().addToast;return Object(y.jsxs)("div",{className:"content-login",children:[Object(y.jsx)("p",{children:"Ingrese el nombre de usuario"}),Object(y.jsx)("input",{name:"user",onChange:function(e){return l(e.target.value)}}),Object(y.jsx)("button",{onClick:function(){return n(e=i),localStorage.setItem("uss",e),void u.push("/te-fio/home");var e},className:"blue",children:"Ingresar"}),Object(y.jsx)("button",{onClick:function(){return t(i),void j("Registro exitoso! Por favor inicie sesi\xf3n",{appearance:"success",autoDismiss:!0})},className:"green",children:"Registrarse"})]})})),S=(n(90),n(48)),k=n(49),I=n(18),A=n(50),_=n(21),T=n.n(_),D=Object(l.b)((function(e){return{userR:e.user,clients:e.clients}}),{addClient:function(e,t){return function(n){j.a.put(d+"/api/".concat(e,"/newClient/").concat(t)).then((function(e){return n({type:m,payload:e.data.client})})).catch((function(e){return console.log(e)}))}},setSearch:function(e){return function(t){t({type:N,payload:e})}}})((function(e){var t=e.addClient,n=e.setSearch,a=Object(c.useState)(!1),s=Object(o.a)(a,2),i=s[0],l=s[1],u=Object(c.useState)(""),j=Object(o.a)(u,2),d=j[0],b=j[1],h=localStorage.getItem("uss"),O=Object(r.e)();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"content-nav",children:[Object(y.jsxs)("div",{className:"txt-nav",children:[Object(y.jsxs)("p",{className:"title-nav",children:["TE-FIO ",Object(y.jsx)(S.a,{})]}),Object(y.jsxs)("div",{className:"content-add-client",children:[Object(y.jsx)(k.a,{onClick:function(){return l(!0)}}),Object(y.jsx)(I.b,{className:"icn-nav",onClick:function(){return O.push("/te-fio/")}})]})]}),Object(y.jsx)("div",{className:"search-nav",children:Object(y.jsx)("form",{children:Object(y.jsxs)("div",{className:"content-search",children:[Object(y.jsx)(A.a,{className:"icon-search"}),Object(y.jsx)("input",{type:"text",name:"fiad",placeholder:"Ingrese la persona...",onChange:function(e){return n(e.target.value)}})]})})})]}),Object(y.jsx)("div",{className:"content-modal",children:Object(y.jsxs)(T.a,{isOpen:i,className:"in-modal",children:[Object(y.jsx)("h2",{children:"Agregar cliente"}),Object(y.jsx)("h4",{children:"Ingrese el nombre del nuevo cliente"}),Object(y.jsx)("input",{name:"newClient",type:"text",onChange:function(e){return b(e.target.value)}}),Object(y.jsxs)("div",{className:"content-buttons",children:[Object(y.jsx)("button",{onClick:function(){return t(h,d),l(!1),void b("")},className:"btn-modal-agg",children:"Agregar"}),Object(y.jsx)("button",{onClick:function(){return l(!1)},className:"btn-modal-close",children:"Cerrar"})]})]})})]})})),F=(n(100),n(101),n(102),n(32));var w=Object(l.b)((function(e){return{userR:e.user}}),{deleteClient:function(e,t){return function(n){j.a.delete(d+"/api/".concat(e,"/deleteClient/").concat(t)).then((function(e){return n({type:p,payload:e.data})})).catch((function(e){return console.log(e)}))}},addFiad:function(e,t,n,c){return function(a){j.a.put(d+"/api/".concat(e,"/newFiad/").concat(t,"/").concat(n,"/").concat(c)).then((function(e){return a({type:x,payload:e.data.client})})).catch((function(e){return console.log(e)}))}},deleteFiad:function(e,t,n){return function(c){j.a.delete(d+"/api/".concat(e,"/deleteFiad/").concat(t,"/").concat(n)).then((function(e){return c({type:g,payload:e.data.user})})).catch((function(e){return console.log(e)}))}},addCash:function(e,t,n){return function(c){j.a.put(d+"/api/".concat(e,"/addCash/").concat(t,"/").concat(n)).then((function(e){return c({type:v,payload:e.data.user})})).catch((function(e){return console.log(e)}))}}})((function(e){var t,n=e.client,a=e.deleteClient,s=e.addFiad,i=e.deleteFiad,r=e.addCash,l=Object(c.useState)(!1),u=Object(o.a)(l,2),j=u[0],d=u[1],b=Object(c.useState)(""),h=Object(o.a)(b,2),O=h[0],f=h[1],m=Object(c.useState)(0),p=Object(o.a)(m,2),x=p[0],g=p[1],v=Object(c.useState)(!1),N=Object(o.a)(v,2),C=N[0],E=N[1],S=localStorage.getItem("uss"),k=0;function A(e){return"recharge"===e?"green":"red"}function _(e){return!0===e?"visibilityOn":"visibilyOff"}return n.fiads.map((function(e){"fiado"===e.type?k+=e.amount:k-=e.amount,t=(t=e.date.split("T"))[0].split("-")})),Object(y.jsxs)("div",{className:"content-client",children:[Object(y.jsx)("h1",{children:n.name}),Object(y.jsxs)("h2",{className:"cash",children:["Debe $",k]}),Object(y.jsx)("h2",{className:"cash",children:"Historial de fiados"}),n.fiads.map((function(e){return Object(y.jsxs)("div",{className:"content-fiads",children:[Object(y.jsxs)("p",{id:"fiad-one",className:"fiad ".concat(A(e.type)),children:[e.name,Object(y.jsx)("br",{}),"FECHA: "+t[2]+"-"+t[1]+"-"+t[0]]}),Object(y.jsxs)("p",{className:"fiad ".concat(A(e.type)),children:["$",e.amount,Object(y.jsx)(F.a,{onClick:function(){return i(S,n.name,e._id)},className:"icn-del"})]})]})})),Object(y.jsxs)("div",{className:"content-icons",children:[Object(y.jsx)(F.a,{onClick:function(){return a(S,n.name)},className:"icn-down"}),Object(y.jsx)(I.a,{onClick:function(){return d(!0)},className:"icn-down"})]}),Object(y.jsxs)(T.a,{isOpen:j,className:"in-modal",children:[Object(y.jsx)("h2",{children:"Agregar transacci\xf3n al historial"}),Object(y.jsx)("h4",{children:"Ingrese el tipo de transaccion"}),Object(y.jsxs)("div",{className:"content-checks",children:[Object(y.jsxs)("div",{className:"content-check",children:[Object(y.jsx)("input",{type:"checkbox"}),Object(y.jsx)("h3",{children:"Agregar saldo"})]}),Object(y.jsxs)("div",{className:"content-check",id:"check2",children:[Object(y.jsx)("input",{type:"checkbox",onClick:function(){return E(!C)}}),Object(y.jsx)("h3",{children:"Fiado"})]})]}),Object(y.jsx)("h4",{className:"title-inp ".concat(_(C)),children:"Ingrese el motivo del fiado"}),Object(y.jsxs)("div",{className:"content-inp ".concat(_(C)),children:[Object(y.jsx)(I.c,{className:"icn-modal"}),Object(y.jsx)("input",{type:"text",onChange:function(e){return f(e.target.value)}})]}),Object(y.jsx)("h4",{children:"Ingrese el dinero"}),Object(y.jsxs)("div",{className:"content-inp",children:[Object(y.jsx)("p",{children:"$"}),Object(y.jsx)("input",{type:"text",onChange:function(e){return g(e.target.value)}})]}),Object(y.jsxs)("div",{className:"content-buttons",children:[Object(y.jsx)("button",{onClick:function(){return!0===C?function(e,t,n,c){s(e,t,n,c),g(0),f(""),d(!1),E(!1)}(S,n.name,O,x):function(e,t,n){r(e,t,n),E(!1),g(0),f(""),d(!1)}(S,n.name,x)},className:"btn-modal-agg",children:"Agregar"}),Object(y.jsx)("button",{onClick:function(){return d(!1)},className:"btn-modal-close",children:"Cerrar"})]})]})]})}));var L=Object(l.b)((function(e){return{clients:e.clients,search:e.search}}))((function(e){var t,n,c=e.clients,a=e.search;return""!==a&&(c=c.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}))),Object(y.jsx)("div",{className:"content-all-clients",children:""!==a&&0===(null===(t=c)||void 0===t?void 0:t.length)?Object(y.jsx)("p",{className:"msg-clients",children:"No se encontro ning\xfan cliente con ese nombre"}):(null===(n=c)||void 0===n?void 0:n.length)>0?c.map((function(e){return Object(y.jsx)(w,{client:e},e._id)})):Object(y.jsx)("p",{className:"msg-clients",children:"A\xfan no tienes clientes"})})}));var R=Object(l.b)((function(e){return{clients:e.clients,search:e.search}}),{getAllClients:function(e){return function(t){j.a.get(d+"/api/getAllClients/".concat(e)).then((function(e){return t({type:O,payload:e.data})})).catch((function(e){return console.log(e)}))}}})((function(e){var t=e.getAllClients,n=Object(r.e)(),a=localStorage.getItem("uss");return Object(c.useEffect)((function(){null===a?n.push("/te-fio/"):t(a)}),[]),Object(y.jsx)("div",{className:"content-all-home",children:Object(y.jsx)(L,{})})}));var U=Object(l.b)((function(e){return{userR:e.user}}))((function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)(i.a,{children:[Object(y.jsx)(r.a,{exact:!0,path:"/te-fio/",children:Object(y.jsx)(E,{})}),Object(y.jsxs)(r.a,{path:"/te-fio/home",children:[Object(y.jsx)(D,{}),Object(y.jsx)(R,{})]})]})})})),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))},H=n(16),G=n(51),$=n(7),B={user:null,clients:[],amount:0,search:""},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case h:return Object($.a)(Object($.a)({},e),{},{user:t.payload});case O:return Object($.a)(Object($.a)({},e),{},{clients:t.payload});case f:return Object($.a)(Object($.a)({},e),{},{amount:t.payload});case m:case p:case x:case g:case v:return Object($.a)(Object($.a)({},e),{},{clients:t.payload});case N:return Object($.a)(Object($.a)({},e),{},{search:t.payload});default:return e}},M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.c,W=Object(H.d)(J,M(Object(H.a)(G.a)));s.a.render(Object(y.jsx)(l.a,{store:W,children:Object(y.jsx)(C.ToastProvider,{autoDismiss:!0,autoDismissTimeout:3e3,placement:"bottom-center",children:Object(y.jsx)(U,{})})}),document.getElementById("root")),P()},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},90:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.d650fe95.chunk.js.map