(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(13),s=n.n(a),i=(n(57),n(58),n(28)),r=n(4),o=n(14),l=(n(59),n(12)),u=n.n(l),j="https://te-fio.herokuapp.com",d=n(8),b="NEW_USER",h="LOGIN_USER",O="GET_CLIENTS",f="GET_AMOUNT",p="NEW_CLIENT",m="DELETE_CLIENT",x="ADD_FIAD",g="DELETE_FIAD",v="ADD_CASH",N="ADD_SEARCH",C="GET_USER",y=n(20),E=n(2),S=Object(d.b)((function(e){return{userR:e.user}}),{newUser:function(e){return function(t){u.a.post(j+"/api/newUser/".concat(e)).then((function(e){return t({type:b,payload:e.data.user.email})})).catch((function(e){return console.log(e)}))}},loginUser:function(e){return function(t){u.a.get(j+"/api/getUser/".concat(e)).then((function(e){return t({type:h,payload:e.data})})).catch((function(e){return console.log(e)}))}},getUser:function(e){return function(t){u.a.get(j+"/api/getUser/".concat(e)).then((function(e){return t({type:C,payload:e.data})})).catch((function(e){return console.log(e)}))}}})((function(e){var t=e.newUser,n=(e.userR,e.loginUser),a=(e.getUser,Object(c.useState)("")),s=Object(o.a)(a,2),i=s[0],l=s[1],d=Object(c.useState)(null),b=Object(o.a)(d,2),h=(b[0],b[1],Object(r.e)()),O=Object(y.useToasts)().addToast,f=Object(c.useState)(!1),p=Object(o.a)(f,2),m=(p[0],p[1]);return Object(E.jsxs)("div",{className:"content-login",children:[Object(E.jsx)("p",{children:"Ingrese el nombre de usuario"}),Object(E.jsx)("input",{name:"user",onChange:function(e){return l(e.target.value.toLocaleLowerCase())}}),Object(E.jsx)("button",{onClick:function(){return n(e=i),localStorage.setItem("uss",e),h.push("/te-fio/home"),void O("Bienvenid@!!",{appearance:"success",autoDismiss:!0});var e},className:"blue",children:"Ingresar"}),Object(E.jsx)("button",{onClick:function(){return e=i,m(!0),void u.a.get(j+"/api/getUser/".concat(e)).then((function(){m(!1),O("Usuario ya existente",{appearance:"error",autoDismiss:!0})})).catch((function(){t(e),O("Usuario registrado correctamente, por favor inicia sesi\xf3n",{appearance:"success",autoDismiss:!0})}));var e},className:"green",children:"Registrarse"})]})})),k=(n(90),n(48)),I=n(49),_=n(18),A=n(50),D=n(21),T=n.n(D),U=Object(d.b)((function(e){return{userR:e.user,clients:e.clients}}),{addClient:function(e,t){return function(n){u.a.put(j+"/api/".concat(e,"/newClient/").concat(t)).then((function(e){return n({type:p,payload:e.data.client})})).catch((function(e){return console.log(e)}))}},setSearch:function(e){return function(t){t({type:N,payload:e})}}})((function(e){var t=e.addClient,n=e.setSearch,a=Object(c.useState)(!1),s=Object(o.a)(a,2),i=s[0],l=s[1],u=Object(c.useState)(""),j=Object(o.a)(u,2),d=j[0],b=j[1],h=localStorage.getItem("uss"),O=Object(r.e)();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"content-nav",children:[Object(E.jsxs)("div",{className:"txt-nav",children:[Object(E.jsxs)("p",{className:"title-nav",children:["TE-FIO ",Object(E.jsx)(k.a,{})]}),Object(E.jsxs)("div",{className:"content-add-client",children:[Object(E.jsx)(I.a,{onClick:function(){return l(!0)}}),Object(E.jsx)(_.b,{className:"icn-nav",onClick:function(){return O.push("/te-fio/")}})]})]}),Object(E.jsx)("div",{className:"search-nav",children:Object(E.jsx)("form",{children:Object(E.jsxs)("div",{className:"content-search",children:[Object(E.jsx)(A.a,{className:"icon-search"}),Object(E.jsx)("input",{type:"text",name:"fiad",placeholder:"Ingrese la persona...",onChange:function(e){return n(e.target.value)}})]})})})]}),Object(E.jsx)("div",{className:"content-modal",children:Object(E.jsxs)(T.a,{isOpen:i,className:"in-modal",children:[Object(E.jsx)("h2",{children:"Agregar cliente"}),Object(E.jsx)("h4",{children:"Ingrese el nombre del nuevo cliente"}),Object(E.jsx)("input",{name:"newClient",type:"text",onChange:function(e){return b(e.target.value)}}),Object(E.jsxs)("div",{className:"content-buttons",children:[Object(E.jsx)("button",{onClick:function(){return t(h,d),l(!1),void b("")},className:"btn-modal-agg",children:"Agregar"}),Object(E.jsx)("button",{onClick:function(){return l(!1)},className:"btn-modal-close",children:"Cerrar"})]})]})})]})})),w=(n(100),n(101),n(102),n(32));var F=Object(d.b)((function(e){return{userR:e.user}}),{deleteClient:function(e,t){return function(n){u.a.delete(j+"/api/".concat(e,"/deleteClient/").concat(t)).then((function(e){return n({type:m,payload:e.data})})).catch((function(e){return console.log(e)}))}},addFiad:function(e,t,n,c){return function(a){u.a.put(j+"/api/".concat(e,"/newFiad/").concat(t,"/").concat(n,"/").concat(c)).then((function(e){return a({type:x,payload:e.data.client})})).catch((function(e){return console.log(e)}))}},deleteFiad:function(e,t,n){return function(c){u.a.delete(j+"/api/".concat(e,"/deleteFiad/").concat(t,"/").concat(n)).then((function(e){return c({type:g,payload:e.data.user})})).catch((function(e){return console.log(e)}))}},addCash:function(e,t,n){return function(c){u.a.put(j+"/api/".concat(e,"/addCash/").concat(t,"/").concat(n)).then((function(e){return c({type:v,payload:e.data.user})})).catch((function(e){return console.log(e)}))}}})((function(e){var t,n=e.client,a=e.deleteClient,s=e.addFiad,i=e.deleteFiad,r=e.addCash,l=Object(c.useState)(!1),u=Object(o.a)(l,2),j=u[0],d=u[1],b=Object(c.useState)(""),h=Object(o.a)(b,2),O=h[0],f=h[1],p=Object(c.useState)(0),m=Object(o.a)(p,2),x=m[0],g=m[1],v=Object(c.useState)(!1),N=Object(o.a)(v,2),C=N[0],y=N[1],S=localStorage.getItem("uss"),k=0;function I(e){return"recharge"===e?"green":"red"}function A(e){return!0===e?"visibilityOn":"visibilyOff"}return n.fiads.map((function(e){"fiado"===e.type?k+=e.amount:k-=e.amount,t=(t=e.date.split("T"))[0].split("-")})),Object(E.jsxs)("div",{className:"content-client",children:[Object(E.jsx)("h1",{children:n.name}),Object(E.jsxs)("h2",{className:"cash",children:["Debe $",k]}),Object(E.jsx)("h2",{className:"cash",children:"Historial de fiados"}),n.fiads.map((function(e){return Object(E.jsxs)("div",{className:"content-fiads",children:[Object(E.jsxs)("p",{id:"fiad-one",className:"fiad ".concat(I(e.type)),children:[e.name,Object(E.jsx)("br",{}),"FECHA: "+t[2]+"-"+t[1]+"-"+t[0]]}),Object(E.jsxs)("p",{className:"fiad ".concat(I(e.type)),children:["$",e.amount,Object(E.jsx)(w.a,{onClick:function(){return i(S,n.name,e._id)},className:"icn-del"})]})]})})),Object(E.jsxs)("div",{className:"content-icons",children:[Object(E.jsx)(w.a,{onClick:function(){return a(S,n.name)},className:"icn-down"}),Object(E.jsx)(_.a,{onClick:function(){return d(!0)},className:"icn-down"})]}),Object(E.jsxs)(T.a,{isOpen:j,className:"in-modal",children:[Object(E.jsx)("h2",{children:"Agregar transacci\xf3n al historial"}),Object(E.jsx)("h4",{children:"Ingrese el tipo de transaccion"}),Object(E.jsxs)("div",{className:"content-checks",children:[Object(E.jsxs)("div",{className:"content-check",children:[Object(E.jsx)("input",{type:"checkbox"}),Object(E.jsx)("h3",{children:"Agregar saldo"})]}),Object(E.jsxs)("div",{className:"content-check",id:"check2",children:[Object(E.jsx)("input",{type:"checkbox",onClick:function(){return y(!C)}}),Object(E.jsx)("h3",{children:"Fiado"})]})]}),Object(E.jsx)("h4",{className:"title-inp ".concat(A(C)),children:"Ingrese el motivo del fiado"}),Object(E.jsxs)("div",{className:"content-inp ".concat(A(C)),children:[Object(E.jsx)(_.c,{className:"icn-modal"}),Object(E.jsx)("input",{type:"text",onChange:function(e){return f(e.target.value)}})]}),Object(E.jsx)("h4",{children:"Ingrese el dinero"}),Object(E.jsxs)("div",{className:"content-inp",children:[Object(E.jsx)("p",{children:"$"}),Object(E.jsx)("input",{type:"text",onChange:function(e){return g(e.target.value)}})]}),Object(E.jsxs)("div",{className:"content-buttons",children:[Object(E.jsx)("button",{onClick:function(){return!0===C?function(e,t,n,c){s(e,t,n,c),g(0),f(""),d(!1),y(!1)}(S,n.name,O,x):function(e,t,n){r(e,t,n),y(!1),g(0),f(""),d(!1)}(S,n.name,x)},className:"btn-modal-agg",children:"Agregar"}),Object(E.jsx)("button",{onClick:function(){return d(!1)},className:"btn-modal-close",children:"Cerrar"})]})]})]})}));var L=Object(d.b)((function(e){return{clients:e.clients,search:e.search}}))((function(e){var t,n,c=e.clients,a=e.search;return""!==a&&(c=c.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}))),Object(E.jsx)("div",{className:"content-all-clients",children:""!==a&&0===(null===(t=c)||void 0===t?void 0:t.length)?Object(E.jsx)("p",{className:"msg-clients",children:"No se encontro ning\xfan cliente con ese nombre"}):(null===(n=c)||void 0===n?void 0:n.length)>0?c.map((function(e){return Object(E.jsx)(F,{client:e},e._id)})):Object(E.jsx)("p",{className:"msg-clients",children:"A\xfan no tienes clientes"})})}));var R=Object(d.b)((function(e){return{clients:e.clients,search:e.search}}),{getAllClients:function(e){return function(t){u.a.get(j+"/api/getAllClients/".concat(e)).then((function(e){return t({type:O,payload:e.data})})).catch((function(e){return console.log(e)}))}}})((function(e){var t=e.getAllClients,n=Object(r.e)(),a=localStorage.getItem("uss");return Object(c.useEffect)((function(){null===a?n.push("/te-fio/"):t(a)}),[]),Object(E.jsx)("div",{className:"content-all-home",children:Object(E.jsx)(L,{})})}));var G=Object(d.b)((function(e){return{userR:e.user}}))((function(){return Object(E.jsx)("div",{className:"App",children:Object(E.jsxs)(i.a,{children:[Object(E.jsx)(r.a,{exact:!0,path:"/te-fio/",children:Object(E.jsx)(S,{})}),Object(E.jsxs)(r.a,{path:"/te-fio/home",children:[Object(E.jsx)(U,{}),Object(E.jsx)(R,{})]})]})})})),H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))},P=n(16),B=n(51),$=n(6),J={user:null,clients:[],amount:0,search:""},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case h:return Object($.a)(Object($.a)({},e),{},{user:t.payload});case O:return Object($.a)(Object($.a)({},e),{},{clients:t.payload});case f:return Object($.a)(Object($.a)({},e),{},{amount:t.payload});case p:case m:case x:case g:case v:return Object($.a)(Object($.a)({},e),{},{clients:t.payload});case N:return Object($.a)(Object($.a)({},e),{},{search:t.payload});case C:return Object($.a)(Object($.a)({},e),{},{user:t.payload});default:return e}},W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.c,X=Object(P.d)(M,W(Object(P.a)(B.a)));s.a.render(Object(E.jsx)(d.a,{store:X,children:Object(E.jsx)(y.ToastProvider,{autoDismiss:!0,autoDismissTimeout:3e3,placement:"bottom-center",children:Object(E.jsx)(G,{})})}),document.getElementById("root")),H()},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},90:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.52fd466c.chunk.js.map